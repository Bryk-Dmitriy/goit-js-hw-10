{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["// Описаний в документації\nimport flatpickr from \"flatpickr\";\n// Додатковий імпорт стилів\nimport \"flatpickr/dist/flatpickr.min.css\";\n// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nlet userSelectedDate = null;\nconst dateInput = document.querySelector('#datetime-picker')\nconst startButton = document.querySelector('[data-start]');\nconst daysElement = document.querySelector('[data-days]');\nconst hoursElement = document.querySelector('[data-hours]');\nconst minutesElement = document.querySelector('[data-minutes]');\nconst secondsElement = document.querySelector('[data-seconds]');\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n     const selectedDate = selectedDates[0];\n        if (selectedDate <= new Date()) {\n            iziToast.error({\n                title: 'Error',\n                message: 'Illegal operation',\n                position: 'topRight',\n            });\n            startButton.disabled = true;\n        } else {\n            userSelectedDate = selectedDate;\n            startButton.disabled = false;\n        }\n    },\n};\nflatpickr(\"#datetime-picker\", options);\n\nstartButton.addEventListener('click', () => {\n    startButton.disabled = true;\n    dateInput.disabled = true;\n\n    const timerInterval = setInterval(() => {\n        const now = new Date();\n        const timeDifference = userSelectedDate - now;\n\n        if (timeDifference < 0) {\n            clearInterval(timerInterval);\n            iziToast.show({\n                color: 'green',\n                title: 'Complete',\n                message: 'Countdown finished!',\n                position: 'topRight'\n            });\n            dateInput.disabled = false;\n            return;\n        }\n\n        const { days, hours, minutes, seconds } = convertMs(timeDifference);\n\n        daysElement.textContent = addLeadingZero(days);\n        hoursElement.textContent = addLeadingZero(hours);\n        minutesElement.textContent = addLeadingZero(minutes);\n        secondsElement.textContent = addLeadingZero(seconds);\n    }, 1000);\n});\n\nfunction convertMs(ms) {\n    const second = 1000;\n    const minute = second * 60;\n    const hour = minute * 60;\n    const day = hour * 24;\n\n    const days = Math.floor(ms / day);\n    const hours = Math.floor((ms % day) / hour);\n    const minutes = Math.floor(((ms % day) % hour) / minute);\n    const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n    return { days, hours, minutes, seconds };\n};\n\nfunction addLeadingZero(value) {\n    return String(value).padStart(2, '0');\n};"],"names":["userSelectedDate","dateInput","startButton","daysElement","hoursElement","minutesElement","secondsElement","options","selectedDates","selectedDate","iziToast","flatpickr","timerInterval","timeDifference","days","hours","minutes","seconds","convertMs","addLeadingZero","ms","value"],"mappings":"0IASA,IAAIA,EAAmB,KACvB,MAAMC,EAAY,SAAS,cAAc,kBAAkB,EACrDC,EAAc,SAAS,cAAc,cAAc,EACnDC,EAAc,SAAS,cAAc,aAAa,EAClDC,EAAe,SAAS,cAAc,cAAc,EACpDC,EAAiB,SAAS,cAAc,gBAAgB,EACxDC,EAAiB,SAAS,cAAc,gBAAgB,EAExDC,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACpB,MAAMC,EAAeD,EAAc,CAAC,EAC7BC,GAAgB,IAAI,MACpBC,EAAS,MAAM,CACX,MAAO,QACP,QAAS,oBACT,SAAU,UAC1B,CAAa,EACDR,EAAY,SAAW,KAEvBF,EAAmBS,EACnBP,EAAY,SAAW,GAE9B,CACL,EACAS,EAAU,mBAAoBJ,CAAO,EAErCL,EAAY,iBAAiB,QAAS,IAAM,CACxCA,EAAY,SAAW,GACvBD,EAAU,SAAW,GAErB,MAAMW,EAAgB,YAAY,IAAM,CAEpC,MAAMC,EAAiBb,EADX,IAAI,KAGhB,GAAIa,EAAiB,EAAG,CACpB,cAAcD,CAAa,EAC3BF,EAAS,KAAK,CACV,MAAO,QACP,MAAO,WACP,QAAS,sBACT,SAAU,UAC1B,CAAa,EACDT,EAAU,SAAW,GACrB,MACH,CAED,KAAM,CAAE,KAAAa,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,GAAYC,EAAUL,CAAc,EAElEV,EAAY,YAAcgB,EAAeL,CAAI,EAC7CV,EAAa,YAAce,EAAeJ,CAAK,EAC/CV,EAAe,YAAcc,EAAeH,CAAO,EACnDV,EAAe,YAAca,EAAeF,CAAO,CACtD,EAAE,GAAI,CACX,CAAC,EAED,SAASC,EAAUE,EAAI,CAMnB,MAAMN,EAAO,KAAK,MAAMM,EAAK,KAAG,EAC1BL,EAAQ,KAAK,MAAOK,EAAK,MAAO,IAAI,EACpCJ,EAAU,KAAK,MAAQI,EAAK,MAAO,KAAQ,GAAM,EACjDH,EAAU,KAAK,MAASG,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAN,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CAC1C,CAEA,SAASE,EAAeE,EAAO,CAC3B,OAAO,OAAOA,CAAK,EAAE,SAAS,EAAG,GAAG,CACxC"}